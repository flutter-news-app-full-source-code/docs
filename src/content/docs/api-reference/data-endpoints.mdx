---
title: 'API Reference: Data Endpoints'
description: Detailed documentation for the generic data management endpoints.
---

import { Steps, Tabs, TabItem, Aside } from '@astrojs/starlight/components';

This section provides a detailed reference for the generic data endpoints, which are used to perform CRUD (Create, Read, Update, Delete) operations on various data models within the system.

## Generic Data Endpoint

The API provides a powerful generic endpoint that can interact with multiple data models by specifying a `model` query parameter.

**Base Path:** `/api/v1/data`

### The `model` Query Parameter

All requests to the data endpoint **must** include a `?model=` query parameter. This parameter tells the server which data collection you want to interact with.

**Example:** `GET /api/v1/data?model=headline`

### Supported Models

The following values are supported for the `model` parameter:
- `headline`
- `topic`
- `source`
- `country`
- `user`
- `user_app_settings`
- `user_content_preferences`
- `remote_config`
- `dashboard_summary`

---

## Collection Methods

These methods operate on a collection of resources.

### Get All Items

Retrieves a paginated list of items for a specific model. Supports advanced filtering and sorting.

**Endpoint:** `GET /api/v1/data?model=<model_name>`

**Authentication:** Required. Permissions vary by model.

#### Query Parameters

-   `model` (string, required): The name of the model to query.
-   `filter` (string, optional): A URL-encoded JSON object representing a MongoDB-style query.
-   `sort` (string, optional): A comma-separated list of fields to sort by (e.g., `createdAt:desc`).
-   `limit` (integer, optional): The maximum number of items to return.
-   `cursor` (string, optional): The pagination cursor from a previous response.

<Aside type="tip">
For user-specific models like `user_app_settings`, the API automatically filters the results to only include data owned by the authenticated user (unless the user is an admin).
</Aside>

#### Success Response (200 OK)

Returns a `SuccessApiResponse` containing a `PaginatedResponse` payload.

<Tabs>
<TabItem label="Payload">
```json
{
  "data": {
    "items": [
      {
        "id": "...",
        "title": "Example Headline",
        // ... other fields
      }
    ],
    "cursor": "next_cursor_string",
    "hasMore": true
  },
  "metadata": {
    // ...
  }
}
```
</TabItem>
</Tabs>

---

### Create an Item

Creates a new item for a specific model.

**Endpoint:** `POST /api/v1/data?model=<model_name>`

**Authentication:** Required. Typically restricted to admin users.

#### Request Body

A JSON object representing the item to be created. The `id`, `createdAt`, and `updatedAt` fields are set by the server and should be omitted.

#### Success Response (201 Created)

Returns a `SuccessApiResponse` containing the newly created item.

---

## Item-Specific Methods

These methods operate on a single item, identified by its ID in the URL path.

### Get Item by ID

Retrieves a single item by its unique ID.

**Endpoint:** `GET /api/v1/data/<item_id>?model=<model_name>`

**Authentication:** Required. Permissions vary by model.

#### Success Response (200 OK)

Returns a `SuccessApiResponse` containing the requested item.

---

### Update Item by ID

Updates an existing item by its unique ID.

**Endpoint:** `PUT /api/v1/data/<item_id>?model=<model_name>`

**Authentication:** Required. Permissions vary by model (often admin-only or owner-only).

#### Request Body

A JSON object containing the fields to update.

#### Success Response (200 OK)

Returns a `SuccessApiResponse` containing the updated item.

---

### Delete Item by ID

Deletes an item by its unique ID.

**Endpoint:** `DELETE /api/v1/data/<item_id>?model=<model_name>`

**Authentication:** Required. Permissions vary by model (often admin-only or owner-only).

#### Success Response (204 No Content)

An empty body with a `204 No Content` status code indicates successful deletion.
