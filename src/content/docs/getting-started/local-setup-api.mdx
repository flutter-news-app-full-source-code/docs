---
title: 'Local Setup: API Server'
description: A step-by-step guide to configuring and running the API server locally.
---

import { Steps } from '@astrojs/starlight/components';

This guide will walk you through setting up and running the Flutter News App API server on your local machine for development and testing.

<Steps>
1.  **Prerequisites**

    Before you begin, ensure you have the following software installed on your system:

    -   **Dart SDK:** Version `3.0.0` or higher.
    -   **MongoDB:** Version `5.0` or higher is recommended.
    -   **Dart Frog CLI:** Install it globally by running:
        ```bash
        dart pub global activate dart_frog_cli
        ```

2.  **Clone the Repository**

    Open your terminal, navigate to your desired workspace directory, and clone the API server repository:

    ```bash
    git clone https://github.com/flutter-news-app-full-source-code/flutter-news-app-api-server-full-source-code.git
    cd flutter-news-app-api-server-full-source-code
    ```

3.  **Configure Environment Variables**

    The server requires a set of environment variables to connect to the database, sign tokens, and send emails.

    -   Copy the example environment file to a new `.env` file:
        ```bash
        cp .env.example .env
        ```
    -   Open the newly created `.env` file in your editor and fill in the required values. At a minimum, you must provide `DATABASE_URL` and `JWT_SECRET_KEY`.

    ```dotenv title=".env"
    # REQUIRED: The full connection string for your MongoDB instance.
    DATABASE_URL="mongodb://user:password@localhost:27017/your_db_name"

    # REQUIRED: A secure, randomly generated secret for signing JWTs.
    # Generate one using: dart pub global run dcli_scripts create_key
    JWT_SECRET_KEY="your-super-secret-and-long-jwt-key"

    # REQUIRED: Your SendGrid API key for sending emails.
    SENDGRID_API_KEY="your-sendgrid-api-key"

    # REQUIRED: The default email address to send emails from.
    DEFAULT_SENDER_EMAIL="noreply@example.com"

    # REQUIRED: The SendGrid template ID for the OTP email.
    OTP_TEMPLATE_ID="d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
    ```

4.  **Install Dependencies**

    Fetch all the required Dart packages for the project:

    ```bash
    dart pub get
    ```

5.  **Run the Development Server**

    Start the Dart Frog development server:

    ```bash
    dart_frog dev
    ```

    The API will now be running and available at `http://localhost:8080`.

    On its first startup, the server will automatically connect to your MongoDB database and seed it with initial data (countries, topics, sources, etc.). This process is idempotent, so it can be run multiple times without creating duplicate entries.

</Steps>
